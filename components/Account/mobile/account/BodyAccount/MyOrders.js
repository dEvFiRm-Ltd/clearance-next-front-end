import React, { useEffect, useState } from "react";
import { useTranslation } from "react-i18next";
import { useRouter } from "next/navigation";
import { useSelector } from "react-redux";
import SwiperCore, { Navigation, Pagination, Autoplay } from "swiper";
import { Swiper, SwiperSlide } from "swiper/react";

const BodyAccount = ({ onOpen, guest, userData, token }) => {
  const orderStatus = useSelector(
    (state) => state?.CheckoutReducer?.orderStatus
  );

  function formatString(inputString) {
    const removeUnderscores = inputString.replace(/_/g, " ");

    const formattedString = removeUnderscores
      .split(" ")
      .map((word) => word.charAt(0).toUpperCase() + word.slice(1))
      .join(" ");

    return formattedString;
  }
  const router = useRouter();
  const { t, i18n } = useTranslation("translation");
  const handleAction = (status) => {
    if (token && !guest) {
      router.push(`/orders-list/${status}`);
    } else {
      onOpen(true);
    }
  };
  SwiperCore.use([Navigation]);
  const swiperOptions = {
    navigation: false,
    slidesPerView: "auto",
    spaceBetween: 10,
  };

  function isShow(order) {
    return order?.count_orders > 0
  }

  return (
    <>
      <div className="account__orderStatus">
        <div
          onClick={() => handleAction("all")}
          className="account__orderStatus__title"
        >
          <div className="account__orderStatus__title__left">
            {t("user.my_order")}
          </div>
          <div
            className="account__orderStatus__title__right"
            aria-hidden="true"
          >
            {t("main.all")}
          </div>
        </div>
        <Swiper className="account__orderStatus__content" {...swiperOptions}>
          {orderStatus?.map((order) => {
            return (
              <SwiperSlide
                className={`${isShow(order) ? "" : "hidden "} flex flex-col w-[70px] justify-center items-center`}
                aria-hidden="true"
              >
                {/*<Link href={`/`}>*/}
                <div className="title--wrapper">
                  <img
                    src="data:image/svg+xml,%3csvg t='1627472445452' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='5347' width='200' height='200'%3e%3cpath d='M921.813333 42.666667H102.186667C45.738667 42.666667 0 88.874667 0 145.92v732.16C0 935.082667 45.738667 981.333333 102.186667 981.333333h819.626666C978.261333 981.333333 1024 935.082667 1024 878.08V145.92C1024 88.874667 978.261333 42.666667 921.813333 42.666667m0 38.826666c35.2 0 63.786667 28.885333 63.786667 64.426667v732.16c0 35.541333-28.586667 64.469333-63.786667 64.469333H102.186667A64.213333 64.213333 0 0 1 38.4 878.08V145.92c0-35.541333 28.586667-64.426667 63.786667-64.426667h819.626666' fill='%23141414' p-id='5348'%3e%3c/path%3e%3cpath d='M1024 331.690667H570.496c-28.288 0-51.242667 23.168-51.242667 51.754666v256.810667c0 28.586667 22.954667 51.754667 51.242667 51.754667H1024V331.690667z m-38.4 38.826666v282.709334h-415.104a12.928 12.928 0 0 1-12.842667-12.970667V383.445333c0-7.125333 5.76-12.970667 12.842667-12.970666H985.6z' fill='%23141414' p-id='5349'%3e%3c/path%3e%3cpath d='M749.013333 512c0 26.453333-21.205333 47.914667-47.445333 47.914667-26.154667 0-47.36-21.461333-47.36-47.914667s21.205333-47.914667 47.36-47.914667c26.24 0 47.445333 21.461333 47.445333 47.914667' fill='%23141414' p-id='5350'%3e%3c/path%3e%3c/svg%3e"
                    alt="unpaid"
                  />
                </div>
                <span
                  onClick={() => handleAction("all")}
                  className="w-full break-words text-center"
                >
                  {formatString(order?.status)}
                </span>
                {/*</Link>*/}
                <span
                  className="absolute right-0 z-[9999] top-[0] flex justify-center items-center h-[16px] min-w-[16px] px-1 gap-2.5 py-px rounded-[40px] bg-red-600 text-xs text-white notranslate">
                  {order.count_orders}
                </span>
              </SwiperSlide>
            );
          })}
        </Swiper>
        {/*<div className="account__orderStatus__content">*/}
        {/*  <div className="title" aria-hidden="true">*/}
        {/*    <div className="title--wrapper">*/}
        {/*      <img*/}
        {/*        src="data:image/svg+xml,%3csvg t='1627472445452' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='5347' width='200' height='200'%3e%3cpath d='M921.813333 42.666667H102.186667C45.738667 42.666667 0 88.874667 0 145.92v732.16C0 935.082667 45.738667 981.333333 102.186667 981.333333h819.626666C978.261333 981.333333 1024 935.082667 1024 878.08V145.92C1024 88.874667 978.261333 42.666667 921.813333 42.666667m0 38.826666c35.2 0 63.786667 28.885333 63.786667 64.426667v732.16c0 35.541333-28.586667 64.469333-63.786667 64.469333H102.186667A64.213333 64.213333 0 0 1 38.4 878.08V145.92c0-35.541333 28.586667-64.426667 63.786667-64.426667h819.626666' fill='%23141414' p-id='5348'%3e%3c/path%3e%3cpath d='M1024 331.690667H570.496c-28.288 0-51.242667 23.168-51.242667 51.754666v256.810667c0 28.586667 22.954667 51.754667 51.242667 51.754667H1024V331.690667z m-38.4 38.826666v282.709334h-415.104a12.928 12.928 0 0 1-12.842667-12.970667V383.445333c0-7.125333 5.76-12.970667 12.842667-12.970666H985.6z' fill='%23141414' p-id='5349'%3e%3c/path%3e%3cpath d='M749.013333 512c0 26.453333-21.205333 47.914667-47.445333 47.914667-26.154667 0-47.36-21.461333-47.36-47.914667s21.205333-47.914667 47.36-47.914667c26.24 0 47.445333 21.461333 47.445333 47.914667' fill='%23141414' p-id='5350'%3e%3c/path%3e%3c/svg%3e"*/}
        {/*        alt="unpaid"*/}
        {/*      />*/}
        {/*    </div>*/}
        {/*    <div onClick={handleAction} className="item">*/}
        {/*      {" "}*/}
        {/*      {t("user.unpaid")}*/}
        {/*    </div>*/}
        {/*  </div>*/}
        {/*  <div className="title" aria-hidden="true">*/}
        {/*    <div className="title--wrapper">*/}
        {/*      <img*/}
        {/*        src="data:image/svg+xml,%3csvg t='1627472486319' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='5483' width='200' height='200'%3e%3cpath d='M870.229333 42.666667H153.770667C68.864 42.666667 0 112.213333 0 197.973333v628.053334C0 911.786667 68.821333 981.333333 153.770667 981.333333h716.458666C955.136 981.333333 1024 911.786667 1024 826.026667V197.973333C1024 112.213333 955.178667 42.666667 870.229333 42.666667m0 38.826666c63.573333 0 115.370667 52.224 115.370667 116.48v628.053334c0 64.256-51.754667 116.48-115.370667 116.48H153.770667C90.154667 942.506667 38.4 890.325333 38.4 826.026667V197.973333C38.4 133.717333 90.154667 81.493333 153.770667 81.493333h716.458666' fill='%23141414' p-id='5484'%3e%3c/path%3e%3cpath d='M696.618667 42.666667H323.370667v487.253333c0 23.850667 19.328 41.472 40.96 41.472a40.618667 40.618667 0 0 0 15.786666-3.242667l114.218667-48.085333a40.533333 40.533333 0 0 1 31.573333 0l113.92 48.042667a40.362667 40.362667 0 0 0 15.786667 3.242666c21.674667 0 41.002667-17.621333 41.002667-41.472V42.666667z m-38.4 38.826666v448.426667c0 1.962667-1.664 2.474667-2.858667 2.474667-0.298667 0-0.554667 0-0.768-0.085334l-113.92-48.042666a78.506667 78.506667 0 0 0-61.098667 0L364.330667 532.608S361.770667 532.352 361.770667 529.92V81.493333h296.448z' fill='%23141414' p-id='5485'%3e%3c/path%3e%3cpath d='M0 340.864h323.370667v-38.826667H0zM696.618667 340.864h323.328v-38.826667h-323.328zM557.738667 305.408c0 25.429333-20.48 46.08-45.653334 46.08-25.173333 0-45.610667-20.650667-45.610666-46.08 0-25.472 20.394667-46.08 45.653333-46.08 25.173333 0 45.610667 20.608 45.610667 46.08' fill='%23141414' p-id='5486'%3e%3c/path%3e%3c/svg%3e"*/}
        {/*        alt="Processing"*/}
        {/*      />*/}
        {/*    </div>*/}
        {/*    <div onClick={handleAction} className="item">*/}
        {/*      {" "}*/}
        {/*      {t("user.proccessing")}*/}
        {/*    </div>*/}
        {/*  </div>*/}
        {/*  <div className="title" aria-hidden="true">*/}
        {/*    <div className="title--wrapper">*/}
        {/*      <img*/}
        {/*        src="data:image/svg+xml,%3csvg t='1627472514136' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='5619' width='200' height='200'%3e%3cpath d='M808.331251 196.260268H81.984837C36.726818 196.260268 0 231.23819 0 274.320753v517.758561C0 835.247188 36.684162 870.22511 81.984837 870.22511h859.77439c45.258019 0 81.984837-34.977922 81.984837-78.060484V446.2671c0-16.721153-5.630592-32.97309-16.038657-46.452387L874.320087 227.953678A83.349829 83.349829 0 0 0 808.331251 196.260268m0 37.665251c14.033825 0 27.21453 6.313088 35.404482 16.849121l133.427976 171.90369a38.177122 38.177122 0 0 1 8.189953 23.631426v345.769558c0 22.309089-19.579105 40.437891-43.594435 40.43789H81.984837c-24.01533 0-43.594435-18.128801-43.594435-40.43789V274.363409c0-22.309089 19.579105-40.437891 43.594435-40.43789H808.331251' fill='%23141414' p-id='5620'%3e%3c/path%3e%3cpath d='M102.417062 528.209281c-45.897859 0-83.221861-36.641506-83.221861-81.686245V143.409481c0-45.002083 37.324002-81.686245 83.221861-81.686245H546.423394c45.897859 0 83.221861 36.684162 83.221861 81.686245v303.113555c0 45.044739-37.324002 81.686245-83.221861 81.686245H102.374406z' fill='white' p-id='5621'%3e%3c/path%3e%3cpath d='M546.423394 42.911939H102.374406C45.897859 42.911939 0 87.914021 0 143.409481v303.113555c0 55.538115 45.855203 100.540198 102.374406 100.540198h444.048988c56.56186 0 102.374406-45.002083 102.374407-100.540198V143.409481c0-55.452803-45.812547-100.497542-102.374407-100.497542m0 37.66525c35.31917 0 63.984004 28.152962 63.984004 62.832292v303.113555c0 34.636674-28.664834 62.874948-63.984004 62.874948H102.374406c-35.276514 0-63.984004-28.238274-63.984004-62.874948V143.409481c0-34.636674 28.70749-62.832292 63.984004-62.832292h444.048988' fill='%23141414' p-id='5622'%3e%3c/path%3e%3cpath d='M714.786637 962.490044c-66.628676 0-120.8018-53.149379-120.8018-118.583687 0-65.30634 54.173123-118.498375 120.8018-118.498376 66.628676 0 120.8018 53.192035 120.801799 118.541032 0 65.391652-54.173123 118.583687-120.801799 118.583687' fill='white' p-id='5623'%3e%3c/path%3e%3cpath d='M714.786637 706.554028C637.451304 706.554028 574.789636 768.063984 574.789636 843.949013c0 75.927685 62.704324 137.394985 139.997001 137.394984 77.335333 0 139.997001-61.509956 139.997-137.352328C854.783637 768.021328 792.079314 706.554028 714.786637 706.554028m0 37.665251c56.007332 0 101.606598 44.788803 101.606598 99.729734 0 55.026243-45.599267 99.729734-101.606598 99.729734C658.779305 943.678747 613.180038 898.9326 613.180038 843.906357 613.180038 788.965425 658.779305 744.219279 714.786637 744.219279' fill='%23141414' p-id='5624'%3e%3c/path%3e%3cpath d='M306.781971 962.490044c-66.628676 0-120.8018-53.149379-120.801799-118.583687C185.980172 778.642673 240.153295 725.407981 306.781971 725.407981c66.628676 0 120.8018 53.192035 120.8018 118.541032 0 65.391652-54.173123 118.583687-120.8018 118.583687' fill='white' p-id='5625'%3e%3c/path%3e%3cpath d='M306.781971 706.554028C229.446638 706.554028 166.78497 768.063984 166.78497 843.949013c0 75.927685 62.704324 137.394985 139.997001 137.394984 77.335333 0 139.997001-61.509956 139.997001-137.352328C446.778972 768.021328 384.074648 706.554028 306.781971 706.554028m0 37.665251c56.007332 0 101.606598 44.788803 101.606599 99.729734 0 55.026243-45.599267 99.729734-101.606599 99.729734C250.77464 943.678747 205.175373 898.9326 205.175373 843.906357 205.175373 788.965425 250.817296 744.219279 306.781971 744.219279' fill='%23141414' p-id='5626'%3e%3c/path%3e%3c/svg%3e"*/}
        {/*        alt="Shipped"*/}
        {/*      />*/}
        {/*    </div>*/}
        {/*    <div onClick={handleAction} className="item">*/}
        {/*      {" "}*/}
        {/*      {t("user.shipped")}*/}
        {/*    </div>*/}
        {/*  </div>*/}
        {/*  <div className="title" aria-hidden="true">*/}
        {/*    <div className="title--wrapper">*/}
        {/*      <img*/}
        {/*        src="data:image/svg+xml,%3csvg t='1627472642157' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='5900' width='200' height='200'%3e%3cpath d='M941.759227 196.260268H215.370157c-26.020162 0-50.462051 11.773057-65.903524 31.69341L16.038657 399.857369A75.799717 75.799717 0 0 0 0 446.352412v345.726902C0 835.247188 36.684162 870.22511 81.984837 870.22511h859.77439c45.300675 0 81.984837-34.977922 81.984837-78.060484V274.320753C1023.744064 231.23819 987.059902 196.260268 941.759227 196.260268m0 37.665251c24.057986 0 43.594435 18.128801 43.594435 40.43789v517.715905c0 22.309089-19.536449 40.437891-43.594435 40.43789H81.984837c-24.01533 0-43.594435-18.128801-43.594435-40.43789V446.309756a38.390402 38.390402 0 0 1 8.189953-23.58877L180.008331 250.77464c8.189953-10.536033 21.413313-16.849121 35.404482-16.849121h726.346414' fill='%23141414' p-id='5901'%3e%3c/path%3e%3cpath d='M477.32067 528.209281c-45.897859 0-83.221861-36.641506-83.221861-81.686245V143.409481c0-45.002083 37.324002-81.686245 83.221861-81.686245H921.369658c45.855203 0 83.179205 36.684162 83.179205 81.686245v303.113555c0 45.044739-37.324002 81.686245-83.179205 81.686245H477.32067z' fill='white' p-id='5902'%3e%3c/path%3e%3cpath d='M921.327002 42.911939H477.363326C420.75881 42.911939 374.903607 87.914021 374.903607 143.409481v303.113555c0 55.538115 45.855203 100.540198 102.417063 100.540198h444.048988c56.56186 0 102.374406-45.002083 102.374406-100.540198V143.409481c0-55.452803-45.812547-100.497542-102.374406-100.497542m0 37.66525c35.276514 0 63.984004 28.152962 63.984004 62.832292v303.113555c0 34.636674-28.70749 62.874948-63.984004 62.874948H477.278014C442.044156 509.397984 413.29401 481.15971 413.29401 446.523036V143.409481c0-34.636674 28.750146-62.832292 64.02666-62.832292h444.048988' fill='%23141414' p-id='5903'%3e%3c/path%3e%3cpath d='M308.957427 962.490044c-66.628676 0-120.8018-53.149379-120.801799-118.583687C188.112972 778.642673 242.286095 725.407981 308.957427 725.407981c66.628676 0 120.8018 53.192035 120.8018 118.541032 0 65.391652-54.173123 118.583687-120.8018 118.583687' fill='white' p-id='5904'%3e%3c/path%3e%3cpath d='M308.957427 706.554028C231.622094 706.554028 168.917771 768.063984 168.917771 843.949013c0 75.927685 62.704324 137.394985 140.039656 137.394984 77.292677 0 139.997001-61.509956 139.997001-137.352328C448.954428 768.021328 386.250104 706.554028 308.957427 706.554028m0 37.665251c55.964675 0 101.606598 44.788803 101.606599 99.729734 0 55.026243-45.641923 99.729734-101.606599 99.729734C252.90744 943.678747 207.308173 898.9326 207.308173 843.906357 207.308173 788.965425 252.950096 744.219279 308.957427 744.219279' fill='%23141414' p-id='5905'%3e%3c/path%3e%3cpath d='M716.962093 962.490044c-66.628676 0-120.8018-53.149379-120.8018-118.583687 0-65.30634 54.173123-118.498375 120.8018-118.498376 66.628676 0 120.8018 53.192035 120.801799 118.541032 0 65.391652-54.173123 118.583687-120.801799 118.583687' fill='white' p-id='5906'%3e%3c/path%3e%3cpath d='M716.962093 706.554028C639.62676 706.554028 576.965092 768.063984 576.965092 843.949013c0 75.927685 62.704324 137.394985 139.997001 137.394984 77.335333 0 139.997001-61.509956 139.997001-137.352328C856.959094 768.021328 794.25477 706.554028 716.962093 706.554028m0 37.665251c56.007332 0 101.606598 44.788803 101.606598 99.729734 0 55.026243-45.599267 99.729734-101.606598 99.729734C660.954761 943.678747 615.355494 898.9326 615.355494 843.906357 615.355494 788.965425 660.997417 744.219279 716.962093 744.219279' fill='%23141414' p-id='5907'%3e%3c/path%3e%3cpath d='M838.787636 273.638257h-277.818545a19.024577 19.024577 0 0 1-19.195201-18.853953c0-10.408065 8.573857-18.853953 19.195201-18.853953h217.545614l-52.808132-36.684163a18.640673 18.640673 0 0 1-4.606848-26.276097 19.408481 19.408481 0 0 1 26.78797-4.47888l101.990502 70.936932a18.768641 18.768641 0 0 1-11.090561 34.210114M661.850537 424.939099a19.493793 19.493793 0 0 1-11.09056-3.455137l-101.947847-70.936932a18.598017 18.598017 0 0 1-7.25152-21.072065 19.195201 19.195201 0 0 1 18.342081-13.138049h277.818545c10.578689 0 19.195201 8.445889 19.195202 18.811297a19.024577 19.024577 0 0 1-19.195202 18.853953h-217.545613l52.808131 36.684162c8.616513 6.057152 10.664001 17.830209 4.564192 26.318754a19.323169 19.323169 0 0 1-15.697409 7.934017' fill='%23141414' p-id='5908'%3e%3c/path%3e%3c/svg%3e"*/}
        {/*        alt="Returns"*/}
        {/*      />*/}
        {/*    </div>*/}
        {/*    <div onClick={handleAction} className="item">*/}
        {/*      {" "}*/}
        {/*      {t("user.returns")}*/}
        {/*    </div>*/}
        {/*  </div>*/}
        {/*</div>*/}
      </div>
      <div className="account__orderStatus">
        <div onClick={() => handleAction("address")} className="account__orderStatus__title">
          <div className="account__orderStatus__title__left">
            {t("user.my_address")}
          </div>
          <div
            className="account__orderStatus__title__right"
            aria-hidden="true"
          >
            {t("main.all")}
          </div>
        </div>
      </div>
    </>
  );
};

export default BodyAccount;
